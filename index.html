<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì‹í’ˆ ì›ì¬ë£Œ ê°€ì´ë“œ Â· ë‹¨ì¼ HTML</title>
  <meta name="color-scheme" content="light dark" />
  <!-- ì™¸ë¶€ CSS -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- í’€-ë¸”ë¦¬ë“œ í—¤ë”: .wrap ë°”ê¹¥ì— ë‘”ë‹¤ -->
  <header class="hero">
    <h1>ì‹í’ˆ ì›ì¬ë£Œ ê°€ì´ë“œ</h1>
    <p>ì•ˆì „í•˜ê³  ê±´ê°•í•œ ì‹í’ˆ ì„ íƒì„ ë„ì™€ë“œë¦½ë‹ˆë‹¤</p>
    <div class="search-wrap" role="search">
      <div class="search">
        <span class="icon" aria-hidden>ğŸ”</span>
        <input id="q" placeholder="ì‹í’ˆì„ ê²€ìƒ‰í•˜ì„¸ìš”" aria-label="ê²€ìƒ‰ì–´" />
      </div>
      <button id="searchBtn" class="btn">ê²€ìƒ‰</button>
    </div>
  </header>

  <!-- ë³¸ë¬¸ ì»¨í…Œì´ë„ˆ -->
  <main class="wrap">
    <section class="panel" aria-labelledby="filters">
      <h2 id="filters" class="sr-only" style="position:absolute;left:-9999px">í•„í„°</h2>
      <div class="grid">
        <div class="field" style="grid-column: span 4">
          <label>ìœ¡ë¥˜</label>
          <select id="f-meat">
            <option value="">ì „ì²´</option>
            <option>ë¼ì§€ê³ ê¸°</option><option>ì‡ ê³ ê¸°</option><option>ë‹­ê³ ê¸°</option>
          </select>
        </div>
        <div class="field" style="grid-column: span 4">
          <label>ì±„ì†Œë¥˜</label>
          <select id="f-vegi">
            <option value="">ì „ì²´</option>
            <option>ëŒ€íŒŒ</option><option>ì–‘íŒŒ</option><option>ë§ˆëŠ˜</option>
          </select>
        </div>
        <div class="field" style="grid-column: span 4">
          <label>ì‹í’ˆì²¨ê°€ë¬¼</label>
          <select id="f-add">
            <option value="">ì „ì²´</option>
            <option>ì•„ìŠ¤íŒŒíƒ</option><option>MSG</option><option>ë³´ì¡´ë£Œ</option>
          </select>
        </div>
        <div class="field" style="grid-column: span 4">
          <label>ëŒ€ì²´ë‹¹</label>
          <select id="f-sweet">
            <option value="">ì „ì²´</option>
            <option>ì—ë¦¬ìŠ¤ë¦¬í†¨</option><option>ë§í‹°í†¨</option><option>ìŠ¤í…Œë¹„ì•„</option>
          </select>
        </div>
        <div class="field" style="grid-column: span 4">
          <label>ì•Œë ˆë¥´ê¸°</label>
          <select id="f-allergy">
            <option value="">ì „ì²´</option>
            <option>ìš°ìœ </option><option>ëŒ€ë‘</option><option>ë°€</option><option>ê³„ë€</option>
          </select>
        </div>
        <div class="field" style="grid-column: span 4">
          <label>ê¸°íƒ€</label>
          <select id="f-etc">
            <option value="">ì „ì²´</option>
            <option>ì¹´í˜ì¸</option><option>í–¥ë£Œ</option>
          </select>
        </div>
      </div>

      <div style="margin-top:14px">
        <div class="muted" style="margin-bottom:6px">ì‹í’ˆ ì¹´í…Œê³ ë¦¬</div>
        <div id="cats" class="cats" aria-label="ì¹´í…Œê³ ë¦¬"><!-- chips injected --></div>
        <div class="subrow">
          <div id="count" class="muted">ì´ 0ê°œ ìƒí’ˆ</div>
          <select id="sort" class="sort">
            <option value="rating">ì¶”ì²œìˆœ</option>
            <option value="review">ë¦¬ë·° ë§ì€ìˆœ</option>
            <option value="price_low">ê°€ê²© ë‚®ì€ìˆœ</option>
            <option value="price_high">ê°€ê²© ë†’ì€ìˆœ</option>
            <option value="name">ì´ë¦„ìˆœ</option>
          </select>
        </div>
      </div>
    </section>

    <section class="panel" style="margin: 12px 20px 0">
      <div id="empty" class="empty">
        <span class="emoji" aria-hidden>ğŸ½ï¸</span>
        <div style="font-weight:700">ì›í•˜ëŠ” ì‹í’ˆì„ ì°¾ì•„ë³´ì„¸ìš”</div>
        <div class="muted" style="margin-top:6px">ìƒí’ˆëª…ì„ ê²€ìƒ‰í•˜ê±°ë‚˜ ì œì™¸í•  ì›ì¬ë£Œë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”</div>
      </div>
      <div id="list" class="grid" style="grid-template-columns: repeat(12,1fr); gap:12px"></div>
    </section>
  </main>

  <script>
    // --- ì¹´í…Œê³ ë¦¬ ì¹© êµ¬ì„± (ì´ëª¨ì§€ í¬í•¨) ---
    const CATS = [
      {key:'all', label:'ì „ì²´', emoji:'ğŸ '},
      {key:'snack', label:'ê³¼ì/ì´ˆì½œë¦¿/ì‹œë¦¬ì–¼', emoji:'ğŸª'},
      {key:'bread', label:'ë¹µ/ë–¡/ì¼', emoji:'ğŸ'},
      {key:'noodle', label:'ë¼ë©´/ë©´', emoji:'ğŸœ'},
      {key:'dairy', label:'ìš°ìœ /ìœ ì œí’ˆ', emoji:'ğŸ¥›'},
      {key:'ice', label:'ì•„ì´ìŠ¤í¬ë¦¼', emoji:'ğŸ¦'},
      {key:'drink', label:'ìŒë£Œ', emoji:'ğŸ¥¤'}
    ];

    const DATA = [
      { id:1, name:'ì‹œë¦¬ì–¼ ì˜¤ë¦¬ì§€ë„', brand:'ê·¸ë¦°í‘¸ë“œ', cat:'snack',  price:3900, rating:4.2, review:112, ings:['ì˜¥ìˆ˜ìˆ˜','ì„¤íƒ•','ì†Œê¸ˆ'] },
      { id:2, name:'í˜„ë¯¸ ê·¸ë˜ë†€ë¼',   brand:'í—¬ì”¨íŒœ',   cat:'snack',  price:6200, rating:4.7, review:86,   ings:['í˜„ë¯¸','ê·€ë¦¬','ì•„ëª¬ë“œ','ê¿€'] },
      { id:3, name:'íƒ„ì‚°ìˆ˜ ë¼ì„',     brand:'ìŠ¤íŒŒí´',   cat:'drink',  price:1200, rating:4.0, review:44,   ings:['ì •ì œìˆ˜','íƒ„ì‚°','ì²œì—°í–¥'] },
      { id:4, name:'ìš”ê±°íŠ¸ í”Œë ˆì¸',   brand:'ë°€í‚¤ë²¨',   cat:'dairy',  price:1800, rating:4.5, review:210,  ings:['ìš°ìœ ','ìœ ì‚°ê· ','ì„¤íƒ•'] },
      { id:5, name:'ì½©ë‘ìœ  ë¼ì´íŠ¸',   brand:'ì†Œì´íŒœ',   cat:'drink',  price:1500, rating:4.1, review:98,   ings:['ëŒ€ë‘','ì •ì œìˆ˜','ê°ë¯¸ë£Œ'] },
      { id:6, name:'ê°€ì“°ì˜¤ ìš°ë™ ì‚¬ë¦¬',brand:'ìš°ë§ˆë¯¸',   cat:'noodle', price:3100, rating:4.3, review:60,   ings:['ë°€ê°€ë£¨','ì •ì œì†Œê¸ˆ','ê°€ì“°ì˜¤ì¶”ì¶œë¬¼'] },
      { id:7, name:'ì´ˆì½” ì¿ í‚¤',       brand:'ìŠ¤ìœ„í‹°',   cat:'snack',  price:2500, rating:3.9, review:31,   ings:['ë°€ê°€ë£¨','ë²„í„°','ì½”ì½”ì•„','ìš°ìœ '] },
      { id:8, name:'ë°”ì§ˆ í˜ìŠ¤í†  íŒŒìŠ¤íƒ€', brand:'ë¸ë¦¬',  cat:'noodle', price:7800, rating:4.8, review:12,   ings:['ë“€ëŸ¼ì„¸ëª°ë¦¬ë‚˜','ë°”ì§ˆ','ì¹˜ì¦ˆ','ì˜¬ë¦¬ë¸Œì˜¤ì¼'] }
    ];

    const $q = document.getElementById('q');
    const $searchBtn = document.getElementById('searchBtn');
    const $cats = document.getElementById('cats');
    const $count = document.getElementById('count');
    const $sort = document.getElementById('sort');
    const $list = document.getElementById('list');
    const $empty = document.getElementById('empty');

    let currentCat = 'all';
    let results = [...DATA];

    // ì¹© ë Œë”
    CATS.forEach((c, i)=>{
      const b = document.createElement('button');
      b.className = 'chip' + (i===0?' active':'');
      b.dataset.key = c.key;
      b.innerHTML = `<span class="emoji">${c.emoji}</span>${c.label}`;
      b.addEventListener('click', ()=>{
        document.querySelectorAll('.chip').forEach(x=>x.classList.remove('active'));
        b.classList.add('active');
        currentCat = c.key; apply();
      });
      $cats.appendChild(b);
    });

    // í•„í„°&ì •ë ¬ ì ìš©
    function apply(){
      const q = $q.value.trim().toLowerCase();
      let res = [...DATA];
      if (q) res = res.filter(f=> f.name.toLowerCase().includes(q) || (f.brand||'').toLowerCase().includes(q));
      if (currentCat!=='all') res = res.filter(f=> f.cat===currentCat);

      switch($sort.value){
        case 'price_low':  res.sort((a,b)=>(a.price||0)-(b.price||0)); break;
        case 'price_high': res.sort((a,b)=>(b.price||0)-(a.price||0)); break;
        case 'review':     res.sort((a,b)=>(b.review||0)-(a.review||0)); break;
        case 'name':       res.sort((a,b)=> (a.name||'').localeCompare(b.name||'')); break;
        default:           res.sort((a,b)=>(b.rating||0)-(a.rating||0)); // rating
      }
      results = res; render();
    }

    function render(){
      $list.innerHTML='';
      $count.textContent = `ì´ ${results.length}ê°œ ìƒí’ˆ` + ($q.value.trim()? ` â€¢ '${$q.value.trim()}' ê²€ìƒ‰ ì¤‘` : '');
      if(!results.length){ $empty.style.display='block'; return; }
      $empty.style.display='none';
      results.forEach(f=>{
        const card = document.createElement('div');
        card.style.gridColumn = 'span 6';
        card.style.background = 'var(--card)';
        card.style.border = '1px solid var(--border)';
        card.style.borderRadius = '16px';
        card.style.padding = '14px';
        card.style.boxShadow = 'var(--shadow)';
        card.innerHTML = `
          <div style="display:flex; justify-content:space-between; gap:8px; align-items:flex-start;">
            <div>
              <div style="font-weight:700">${escapeHTML(f.name)}</div>
              <div style="color:var(--muted); font-size:12px">${escapeHTML(f.brand||'')}</div>
            </div>
            <div class="chip">â‚©${(f.price||0).toLocaleString()}</div>
          </div>
          <div style="margin-top:6px; color:var(--muted); font-size:12px">â­ ${f.rating??0} Â· ë¦¬ë·° ${f.review??0}ê°œ</div>
          <div style="margin-top:8px; display:flex; gap:6px; flex-wrap:wrap;">
            ${(f.ings||[]).slice(0,6).map(x=>`<span class="chip">${escapeHTML(x)}</span>`).join('')}
          </div>
        `;
        $list.appendChild(card);
      });
    }

    function escapeHTML(s){
      return String(s).replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[m]));
    }

    // ì´ë²¤íŠ¸
    $searchBtn.addEventListener('click', apply);
    $q.addEventListener('keydown', (e)=>{ if(e.key==='Enter') apply(); });
    $sort.addEventListener('change', apply);

    // ì´ˆê¸° ë Œë”
    apply();
  </script>
</body>
</html>
